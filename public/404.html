<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Easy To-Do</title>
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // GitHub Pages 서브패스를 위한 라우팅 처리
      var pathSegmentsToKeep = 1; // /easy-to-do/ 부분을 유지
      var l = window.location;

      // 현재 경로가 이미 올바른 형태인지 확인
      if (l.pathname.indexOf("/easy-to-do") === 0) {
        // 서브패스가 있는 경우, 메인 페이지로 리다이렉트하면서 경로 정보 전달
        var redirectPath = l.pathname.replace("/easy-to-do", "") || "/";
        l.replace(
          l.protocol +
            "//" +
            l.hostname +
            (l.port ? ":" + l.port : "") +
            "/easy-to-do/" +
            "?/" +
            redirectPath.slice(1) +
            (l.search ? "&" + l.search.slice(1).replace(/&/g, "~and~") : "") +
            l.hash
        );
      } else {
        // 일반적인 SPA 라우팅 처리
        l.replace(
          l.protocol +
            "//" +
            l.hostname +
            (l.port ? ":" + l.port : "") +
            l.pathname
              .split("/")
              .slice(0, 1 + pathSegmentsToKeep)
              .join("/") +
            "/?/" +
            l.pathname
              .slice(1)
              .split("/")
              .slice(pathSegmentsToKeep)
              .join("/")
              .replace(/&/g, "~and~") +
            (l.search ? "&" + l.search.slice(1).replace(/&/g, "~and~") : "") +
            l.hash
        );
      }
    </script>
  </head>
  <body></body>
</html>
